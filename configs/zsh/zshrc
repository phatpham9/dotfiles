# check if running on macOS
is_macos() {
  [[ $(uname) == "Darwin" ]]
}

# homebrew
if is_macos; then
  eval "$(/opt/homebrew/bin/brew shellenv)"
else
  eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
fi

# fnm
eval "$(fnm env --use-on-cd)"

# pnpm
export PNPM_HOME="$HOME/.pnpm"
case ":$PATH:" in
  *":$PNPM_HOME:"*) ;;
  *) export PATH="$PNPM_HOME:$PATH" ;;
esac

# zsh plugins
plugins=(git gh fnm uv docker docker-compose kubectl terraform direnv starship)
source "$HOME/.oh-my-zsh/oh-my-zsh.sh"

# zsh aliases
source "$HOME/.zsh_aliases"

# zsh-completions
if type brew &>/dev/null; then
  FPATH=$(brew --prefix)/share/zsh-completions:$FPATH
fi

# zsh-syntax-highlighting
source $(brew --prefix)/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh

# manpager
export MANPAGER="sh -c 'col -bx | bat -l man -p'"
